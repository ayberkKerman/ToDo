{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.ClientSSLSecurityPFX = void 0;\n\nvar fs = require(\"fs\");\n\nvar https = require(\"https\");\n\nvar _ = require(\"lodash\");\n/**\n * activates SSL for an already existing client using a PFX cert\n *\n * @module ClientSSLSecurityPFX\n * @param {Buffer|String}   pfx\n * @param {String}   passphrase\n * @constructor\n */\n\n\nvar ClientSSLSecurityPFX =\n/** @class */\nfunction () {\n  function ClientSSLSecurityPFX(pfx, passphrase, defaults) {\n    if (typeof passphrase === 'object') {\n      defaults = passphrase;\n    }\n\n    if (pfx) {\n      if (Buffer.isBuffer(pfx)) {\n        this.pfx = pfx;\n      } else if (typeof pfx === 'string') {\n        this.pfx = fs.readFileSync(pfx);\n      } else {\n        throw new Error('supplied pfx file should be a buffer or a file location');\n      }\n    }\n\n    if (passphrase) {\n      if (typeof passphrase === 'string') {\n        this.passphrase = passphrase;\n      }\n    }\n\n    this.defaults = {};\n\n    _.merge(this.defaults, defaults);\n  }\n\n  ClientSSLSecurityPFX.prototype.toXML = function () {\n    return '';\n  };\n\n  ClientSSLSecurityPFX.prototype.addOptions = function (options) {\n    options.pfx = this.pfx;\n\n    if (this.passphrase) {\n      options.passphrase = this.passphrase;\n    }\n\n    _.merge(options, this.defaults);\n\n    options.httpsAgent = new https.Agent(options);\n  };\n\n  return ClientSSLSecurityPFX;\n}();\n\nexports.ClientSSLSecurityPFX = ClientSSLSecurityPFX;","map":{"version":3,"names":["exports","__esModule","ClientSSLSecurityPFX","fs","require","https","_","pfx","passphrase","defaults","Buffer","isBuffer","readFileSync","Error","merge","prototype","toXML","addOptions","options","httpsAgent","Agent"],"sources":["C:/Users/ayber/node_modules/soap/lib/security/ClientSSLSecurityPFX.js"],"sourcesContent":["\"use strict\";\nexports.__esModule = true;\nexports.ClientSSLSecurityPFX = void 0;\nvar fs = require(\"fs\");\nvar https = require(\"https\");\nvar _ = require(\"lodash\");\n/**\n * activates SSL for an already existing client using a PFX cert\n *\n * @module ClientSSLSecurityPFX\n * @param {Buffer|String}   pfx\n * @param {String}   passphrase\n * @constructor\n */\nvar ClientSSLSecurityPFX = /** @class */ (function () {\n    function ClientSSLSecurityPFX(pfx, passphrase, defaults) {\n        if (typeof passphrase === 'object') {\n            defaults = passphrase;\n        }\n        if (pfx) {\n            if (Buffer.isBuffer(pfx)) {\n                this.pfx = pfx;\n            }\n            else if (typeof pfx === 'string') {\n                this.pfx = fs.readFileSync(pfx);\n            }\n            else {\n                throw new Error('supplied pfx file should be a buffer or a file location');\n            }\n        }\n        if (passphrase) {\n            if (typeof passphrase === 'string') {\n                this.passphrase = passphrase;\n            }\n        }\n        this.defaults = {};\n        _.merge(this.defaults, defaults);\n    }\n    ClientSSLSecurityPFX.prototype.toXML = function () {\n        return '';\n    };\n    ClientSSLSecurityPFX.prototype.addOptions = function (options) {\n        options.pfx = this.pfx;\n        if (this.passphrase) {\n            options.passphrase = this.passphrase;\n        }\n        _.merge(options, this.defaults);\n        options.httpsAgent = new https.Agent(options);\n    };\n    return ClientSSLSecurityPFX;\n}());\nexports.ClientSSLSecurityPFX = ClientSSLSecurityPFX;\n"],"mappings":"AAAA;;AACAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,oBAAR,GAA+B,KAAK,CAApC;;AACA,IAAIC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIE,CAAC,GAAGF,OAAO,CAAC,QAAD,CAAf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIF,oBAAoB;AAAG;AAAe,YAAY;EAClD,SAASA,oBAAT,CAA8BK,GAA9B,EAAmCC,UAAnC,EAA+CC,QAA/C,EAAyD;IACrD,IAAI,OAAOD,UAAP,KAAsB,QAA1B,EAAoC;MAChCC,QAAQ,GAAGD,UAAX;IACH;;IACD,IAAID,GAAJ,EAAS;MACL,IAAIG,MAAM,CAACC,QAAP,CAAgBJ,GAAhB,CAAJ,EAA0B;QACtB,KAAKA,GAAL,GAAWA,GAAX;MACH,CAFD,MAGK,IAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;QAC9B,KAAKA,GAAL,GAAWJ,EAAE,CAACS,YAAH,CAAgBL,GAAhB,CAAX;MACH,CAFI,MAGA;QACD,MAAM,IAAIM,KAAJ,CAAU,yDAAV,CAAN;MACH;IACJ;;IACD,IAAIL,UAAJ,EAAgB;MACZ,IAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;QAChC,KAAKA,UAAL,GAAkBA,UAAlB;MACH;IACJ;;IACD,KAAKC,QAAL,GAAgB,EAAhB;;IACAH,CAAC,CAACQ,KAAF,CAAQ,KAAKL,QAAb,EAAuBA,QAAvB;EACH;;EACDP,oBAAoB,CAACa,SAArB,CAA+BC,KAA/B,GAAuC,YAAY;IAC/C,OAAO,EAAP;EACH,CAFD;;EAGAd,oBAAoB,CAACa,SAArB,CAA+BE,UAA/B,GAA4C,UAAUC,OAAV,EAAmB;IAC3DA,OAAO,CAACX,GAAR,GAAc,KAAKA,GAAnB;;IACA,IAAI,KAAKC,UAAT,EAAqB;MACjBU,OAAO,CAACV,UAAR,GAAqB,KAAKA,UAA1B;IACH;;IACDF,CAAC,CAACQ,KAAF,CAAQI,OAAR,EAAiB,KAAKT,QAAtB;;IACAS,OAAO,CAACC,UAAR,GAAqB,IAAId,KAAK,CAACe,KAAV,CAAgBF,OAAhB,CAArB;EACH,CAPD;;EAQA,OAAOhB,oBAAP;AACH,CApCyC,EAA1C;;AAqCAF,OAAO,CAACE,oBAAR,GAA+BA,oBAA/B"},"metadata":{},"sourceType":"script"}